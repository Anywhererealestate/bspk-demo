import{u as useId,i as useFloatingMenu,e as reactExports,j as jsxRuntimeExports,k as TextInput,S as SearchExports,P as Portal,M as Menu,T as Txt,s as styleAdd}from"./index-quZYMizb.js";styleAdd("[data-bspk=search-bar]{display:flex;width:100%;min-width:300px}");function SearchBar({itemCount,items,noResultsMessage,placeholder="Search","aria-label":ariaLabel,id:idProp,inputRef,name,size="medium",onSelect,value,onChange}){const id=useId(idProp),{triggerProps:{ref:triggerRef,onClick,onKeyDownCapture,...triggerProps},menuProps,closeMenu}=useFloatingMenu({placement:"bottom-start"}),inputRefLocal=reactExports.useRef(null);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{"data-bspk":"search-bar",children:jsxRuntimeExports.jsx(TextInput,{"aria-label":ariaLabel,autoComplete:"off",containerRef:triggerRef,id,inputRef:node=>{inputRef==null||inputRef(node||null),inputRefLocal.current=node},leading:jsxRuntimeExports.jsx(SearchExports.SvgSearch,{}),name,onChange:str=>onChange(str),placeholder,size,value,...triggerProps,onClick:event=>{items!=null&&items.length&&onClick(event)},onKeyDownCapture:event=>{var _a;onKeyDownCapture(event)||(_a=inputRefLocal.current)==null||_a.focus()}})}),!!(value!=null&&value.trim().length)&&jsxRuntimeExports.jsx(Portal,{children:jsxRuntimeExports.jsx(Menu,{itemCount,items,noResultsMessage:!!(value!=null&&value.length)&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Txt,{as:"div",variant:"heading-h5",children:"No results found"}),noResultsMessage&&jsxRuntimeExports.jsx(Txt,{as:"div",variant:"body-base",children:noResultsMessage})]}),onChange:(selectedValues,event)=>{event==null||event.preventDefault();const item=items==null?void 0:items.find(i=>i.value===selectedValues[0]);onSelect==null||onSelect(item),onChange((item==null?void 0:item.label)||""),closeMenu()},...menuProps})})]})}SearchBar.bspkName="SearchBar";export{SearchBar};
